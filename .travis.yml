language: cpp
matrix:
  include:
  - os: osx
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-8
    env:
    - MATRIX_EVAL="CC=gcc-8 && CXX=g++-8"
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-5
    env:
    - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
before_install:
- eval "${MATRIX_EVAL}"
script:
- mkdir build
- cd build
- cmake -DCMAKE_INSTALL_PREFIX=${HOME}/local ..
- cmake --build . -- --jobs=2
- cmake --build . --target install
- ctest -V
branches:
  except:
  - "/^v?\\d+\\.\\d+/"
notifications:
  email: false
  slack:
    secure: VTsfU243ZdbFITvsAfYDOsQUvjZb/CotegL/dzQl59hCig+1zJMO8FV9ErLI7juG/h+OyqmY2KRqthUyN178RIkVopZliw04IkjbyW3vvxTxoi9Y9XvGTFjyxpUewptd7v18+yuTUr3NqwLQIFd6u4hHAQqNVJMmsHgi+QzaVcT5AUbFPuCqDiIqHfhCLrcT02IDPOxiT3LXd4S4szDIecs4UaXrKuvwZbjf9kwiJQOLeksGlzWK1BryWWfwAssyqdil867KO1x9HxY01+xkvNGOYWd6FJpOW1dAmCID2ruv79q0u1XOYLiXjkDrJZcvexy+YmweLOQLTey9i1wNsD4bkVAqe7+S7p6+eFmtNmL1K3Yo5BcI9l23MpnhT73PP99GRVac5nU/F02MXIFds03bvry2FcMZLj8ZsQVzMAc1Lqm2VrzITjRs/opAd+jGatd2JqCLqq4mlO9GCJJvJ5p6QjI//GVnj99nGJOU25UcU42SrokfOsrNiumiUpUOq22SdvExKaT0WDvbe4QSXbt2JYOENnF/PmwvvGfcC1hi9mEIxW96teuiSF0Y8pUQiRFAgQWhBs+Qv8OW7PNmCa3NPB2uZ2uG2WCxUFvc1jm8aXA4WI5lhdmgFg6XjqrfPoloXyALjAoQTZvhLj4jskb+0BEgtHJsRjU56Ju1+yw=
