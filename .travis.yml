language: cpp
matrix:
  include:
  - os: osx
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-8
    env:
    - MATRIX_EVAL="CC=gcc-8 && CXX=g++-8"
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-5
    env:
    - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
before_install:
- eval "${MATRIX_EVAL}"
script:
- mkdir build
- cd build
- cmake -DCMAKE_INSTALL_PREFIX=${HOME}/local ..
- cmake --build . -- --jobs=2
- cmake --build . --target install
- ctest -V
branches:
  except:
  - "/^v?\\d+\\.\\d+/"
notifications:
  email: false
  slack:
    secure: 7fID+7G+sNk4bWrqOF9w64kAtVppmE1xwmvE+eB7WYicxxns9ken/QREa4ht00ORrG95Ve6r3kCYhoEHq7OaFsyCHWfn0WXnzDCHYBaPa5NWHOJzjQ/ZN6km8jggygRC4DVd64N1VH0vhnCuxw4upraMGgaisu7GR7XBIRGsB+4YfkvmAygNK8xTQ7ZsQclN0bSxS55q7vDyKbynS+isY3t+ejUT4aNwUKD54ALjE7uyC8J40rAPS2XpbTnTHIGKyt28hHc9Opa6eQTHTVSs77ENYlTZECAvaugjuqQdjkwontUMVNXz0w/L6w99qTjOrpHEMiK57EuWpSPGOvjoIK84RPNnggGbb7xaUsiZVe806op+Ib60O5cygvDInzreWixmsje9wr+uegFOw6BdYu8rOG4IWLtzEvAgXqqsTWYZedJ77TNAqS37dopARvEYRyVm+AjDF1LdC64VfQy9ePA1RWDQBELOxfJvH4MmncnrHyIrOQE0rnbGIkRBCv/IJlMZKqdCxex3fVAfda68DIBz1iEEeO3qWa3e71QIJiK0y787uOsW7jDPAoz7Sp8Cbrr9gyz8IHIDP2ERjF92vDVQlpDG0qNp1sYZgjUReI2vkId9gIirk/sEZHcBBWDdJKPtCksseQtvqjkif4CUm6P8s6GiuZfKDGTISdwkncA=
